C51 COMPILER V9.00   MAIN                                                                  05/28/2020 23:24:45 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE main.c LARGE BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main.lst) OBJECT(.\
                    -Objects\main.obj)

line level    source

   1          #include "STC8.H"
   2          #include "pll.h"
   3          #include "hw.h"
   4          #include "adc.h"
   5          #include "rtx.h"
   6          #include "cmd.h"
   7          #include "utily.h"
   8          #include "pwm.h"
   9          
  10          //WARNNING:STC MCU int protype is 16 bit width,not 32 bit width미미미미미미
  11          extern unsigned char cmd[5];
  12          
  13          
  14          int main()
  15          {                         
  16   1              //config sysclk
  17   1              HW_SysclkInit();
  18   1      
  19   1              //config pins
  20   1              HW_IOInit();
  21   1      
  22   1              //config perhaps
  23   1              HW_T2Init();
  24   1              HW_IntcInit();
  25   1              RTX_Init();
  26   1              ADC_Init();
  27   1              PWM_Init();
  28   1      
  29   1              Cmd_InitTable();
  30   1      
  31   1              delay_ms(200);
  32   1      
  33   1              //config dds
  34   1              PLL_Init();
  35   1              PLL_Reset();
  36   1              PLL_Tx_Config();
  37   1              PLL_Rx_Config();
  38   1      
  39   1              delay_ms(200);
  40   1      
  41   1      //      PWM_Ctrl(79.5);
  42   1      
  43   1              while(1)
  44   1              {
  45   2      //              if(PLL_IsRxLocked() != 1)
  46   2      //              {
  47   2      //                      PLL_Reset();
  48   2      //                      PLL_Rx_Config();
  49   2      //              }
  50   2                      
  51   2      //              if(PLL_IsTxLocked() != 1)
  52   2      //              {
  53   2      //                      PLL_Reset();
  54   2      //                      PLL_Tx_Config();
C51 COMPILER V9.00   MAIN                                                                  05/28/2020 23:24:45 PAGE 2   

  55   2      //              }
  56   2      
  57   2                      if(Cmd_IsNew())
  58   2                      {
  59   3                              switch(cmd[0])
  60   3                              {
  61   4                                      case 0xa1:
  62   4                                              process_a1(cmd[2]);
  63   4                                              break;
  64   4                                      case 0xa2:
  65   4                                              process_a2(cmd[2]);
  66   4                                              break;
  67   4                                      case 0xa3:
  68   4                                              process_a3(cmd[2]);
  69   4                                              break;
  70   4                                      default:
  71   4                                              break;
  72   4                              }
  73   3                      }
  74   2              }
  75   1      }
  76          
  77          
  78          
  79          
  80          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    101    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
