C51 COMPILER V9.00   RTX                                                                   09/27/2019 20:48:43 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE RTX
OBJECT MODULE PLACED IN .\Objects\rtx.obj
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE rtx.c BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\rtx.lst) OBJECT(.\Objects\
                    -rtx.obj)

line level    source

   1          #include "stc8.h"
   2          #include "rtx.h"
   3          
   4          unsigned long rtx_baud = 9600;
   5          
   6          void RTX_Init()
   7          {
   8   1              //mode 0
   9   1              S4CON |= 0x80;
  10   1              
  11   1              //select T2 as baud gen.
  12   1              S4CON &= ~0x40;
  13   1              
  14   1              //enable rx
  15   1              S4CON |= 0x10;
  16   1      }
  17          
  18          void RTX_Recv(unsigned char *buf)
  19          {
  20   1              *buf = S4BUF;
  21   1              S4CON &= ~0x01;
  22   1      }
  23          
  24          void RTX_Send(unsigned char buf)
  25          {
  26   1              S4BUF = buf;
  27   1              while((S4CON & 0x02) != 0x02);
  28   1              S4CON &= ~0x02;
  29   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     30    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
